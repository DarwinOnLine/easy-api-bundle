<?php

namespace {{ namespace }};

use Symfony\Component\HttpFoundation\Request;
use FOS\RestBundle\Controller\Annotations as Rest;
use Nelmio\ApiDocBundle\Annotation\Model;
use Swagger\Annotations as SWG;

{% for use in uses %}
use {{ use }};
{% endfor %}

/**
 * Class {{ entity_name }}Controller
 * @package {{ namespace }}
 * @SWG\Tag(name="{{ entity_name }}")
 */
class {{ entity_name }}Controller extends AbstractApiController
{
    use CrudDescribeFormControllerTrait;

    public const entityClass = {{ entity_name }}::class;
    public const entityTypeClass = {{ entity_name }}Type::class;
    //public const entitySearchModelClass = {{ entity_name }}SearchModel::class;
    //public const entitySearchTypeClass = {{ entity_name }}SearchModelType::class;
    public const serializationGroups = [{{ serialization_groups|raw }}];

    /**
     * Get {{ entity_name }} entity.
     *
     * @SWG\Response(
     *     response=200,
     *     description="Successful operation",
     *     @SWG\Schema(ref=@Model(type={{ entity_name }}::class, groups={ {{ serialization_groups|raw }} }))
     * ),
     *
     * @param {{ entity_name }} $entity
     *
     * @return Response
     */
    public function getAction({{ entity_name }} $entity)
    {
        return $this->getEntityAction($entity);
    }

    /**
     * List {{ entity_name }} entities.
     *
     * @SWG\Response(
     *     response=200,
     *     description="Successful operation",
     *     @SWG\Schema(
     *         type="array",
     *         @SWG\Items(ref=@Model(type={{ entity_name }}::class, groups={ {{ serialization_groups|raw }} }))
     *     )
     * ),
     *
     * @return Response
     */
    public function listAction()
    {
        return $this->getEntityListAction();
    }

    /**
     * Create {{ entity_name }} entity.
     *
     * @SWG\Parameter(
     *     name="data",
     *     in="body",
     *     description="Create data.",
     *     required=true,
     *     @SWG\Schema(ref=@Model(type={{ entity_name }}Type::class))
     * ),
     * @SWG\Response(
     *     response=201,
     *     description="Successful operation",
     *     @SWG\Schema(ref=@Model(type={{ entity_name }}::class, groups={ {{ serialization_groups|raw }} }))
     * ),
     * @SWG\Response(response="404", ref="#/definitions/404"),
     * @SWG\Response(response="405", ref="#/definitions/405"),
     * @SWG\Response(response="415", ref="#/definitions/415")
     *
     * @param Request $request
     *
     * @return Response
     */
    public function createAction(Request $request)
    {
        return $this->createEntityAction($request);
    }

    /**
     * Update {{ entity_name }} entity.
     *
     * @SWG\Parameter(
     *     name="data",
     *     in="body",
     *     description="Update data.",
     *     required=true,
     *     @SWG\Schema(ref=@Model(type={{ entity_name }}Type::class))
     * ),
     * @SWG\Response(
     *     response=200,
     *     description="Successful operation",
     *     @SWG\Schema(ref=@Model(type={{ entity_name }}::class, groups={ {{ serialization_groups|raw }} }))
     * ),
     * @SWG\Response(response="404", ref="#/definitions/404"),
     * @SWG\Response(response="405", ref="#/definitions/405"),
     * @SWG\Response(response="415", ref="#/definitions/415")
     *
     * @param Request           $request
     * @param {{ entity_name }} $entity
     *
     * @return Response
     */
    public function updateAction(Request $request, {{ entity_name }} $entity)
    {
        return $this->updateEntityAction($request, $entity);
    }

    /**
     * Delete {{ entity_name }} entity.
     *
     * @SWG\Response(
     *     response=204,
     *     description="Successful operation",
     * ),
     *
     * @param {{ entity_name }} $entity
     *
     * @return Response
     */
    public function deleteAction({{ entity_name }} $entity)
    {
        return $this->deleteEntityAction($entity);
    }
}